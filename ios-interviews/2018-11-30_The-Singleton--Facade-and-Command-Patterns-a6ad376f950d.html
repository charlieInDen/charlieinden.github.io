<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>The Singleton, Facade and Command Patterns</title>
    <style>
      * {
        font-family: Georgia, Cambria, 'Times New Roman', Times, serif;
      }
      html,
      body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field='subtitle'],
      section[data-field='description'] {
        display: none;
      }
    </style>
  </head>
  <body>
    <article class="h-entry">
      <header>
        <h1 class="p-name">The Singleton, Facade and Command Patterns</h1>
      </header>
      <section data-field="subtitle" class="p-summary">
        Facade Design Pattern, Singleton Design Pattern, Command Design Pattern,
        Swift, Objective C, iOS
      </section>
      <section data-field="body" class="e-content">
        <section
          name="0dd0"
          class="section section--body section--first section--last"
        >
          <div class="section-divider"><hr class="section-divider" /></div>
          <div class="section-content">
            <div class="section-inner sectionLayout--insetColumn">
              <h3
                name="dc64"
                id="dc64"
                class="graf graf--h3 graf--leading graf--title"
              >
                The Singleton, Facade and Command Patterns
              </h3>
              <p name="850f" id="850f" class="graf graf--p graf-after--h3">
                Facade Design Pattern, Singleton Design Pattern, Command Design
                Pattern, Swift, Objective C, iOS
              </p>
              <p name="4b40" id="4b40" class="graf graf--p graf-after--p">
                This week we will learn
                <em class="markup--em markup--p-em">three</em> new patterns, the
                singleton, the facade and the Command.
              </p>
              <p name="fc0d" id="fc0d" class="graf graf--p graf-after--p">
                <strong class="markup--strong markup--p-strong"
                  >Singleton</strong
                >: The Singleton Pattern ensures a class has only one instance,
                and provides a global point of access to it.
              </p>
              <p name="2c46" id="2c46" class="graf graf--p graf-after--p">
                <strong class="markup--strong markup--p-strong">Facade</strong>:
                facade pattern lets you
                <em class="markup--em markup--p-em">plan</em> for changes to a
                sub-system.
              </p>
              <p name="89ab" id="89ab" class="graf graf--p graf-after--p">
                <strong class="markup--strong markup--p-strong">Command</strong
                >: encapsulate a request in an object, allows the
                parameterization of clients with different requests, allows
                saving the requests in a queue.
              </p>
              <h3 name="6313" id="6313" class="graf graf--h3 graf-after--p">
                Singleton pattern
              </h3>
              <p name="ac94" id="ac94" class="graf graf--p graf-after--h3">
                <strong class="markup--strong markup--p-strong"
                  >Singleton pattern</strong
                >
                is a
                <a
                  href="https://en.wikipedia.org/wiki/Software_design_pattern"
                  data-href="https://en.wikipedia.org/wiki/Software_design_pattern"
                  class="markup--anchor markup--p-anchor"
                  title="Software design pattern"
                  rel="noopener"
                  target="_blank"
                  >software design pattern</a
                >
                that restricts the
                <a
                  href="https://en.wikipedia.org/wiki/Instantiation_%28computer_science%29"
                  data-href="https://en.wikipedia.org/wiki/Instantiation_(computer_science)"
                  class="markup--anchor markup--p-anchor"
                  title="Instantiation (computer science)"
                  rel="noopener"
                  target="_blank"
                  >instantiation</a
                >
                of a
                <a
                  href="https://en.wikipedia.org/wiki/Class_%28computer_programming%29"
                  data-href="https://en.wikipedia.org/wiki/Class_(computer_programming)"
                  class="markup--anchor markup--p-anchor"
                  title="Class (computer programming)"
                  rel="noopener"
                  target="_blank"
                  >class</a
                >
                to one
                <a
                  href="https://en.wikipedia.org/wiki/Object_%28computer_science%29"
                  data-href="https://en.wikipedia.org/wiki/Object_(computer_science)"
                  class="markup--anchor markup--p-anchor"
                  title="Object (computer science)"
                  rel="noopener"
                  target="_blank"
                  >object</a
                >. This is useful when exactly one object is needed to
                coordinate actions across the system.
              </p>
              <p name="c102" id="c102" class="graf graf--p graf-after--p">
                <strong class="markup--strong markup--p-strong"
                  >In Objective C:</strong
                >
              </p>
              <figure
                name="8469"
                id="8469"
                class="graf graf--figure graf-after--p"
              >
                <img
                  class="graf-image"
                  data-image-id="1*_Xzx1Fqw1x4F_ySEZQvSrg.png"
                  data-width="888"
                  data-height="332"
                  data-is-featured="true"
                  src="https://cdn-images-1.medium.com/max/800/1*_Xzx1Fqw1x4F_ySEZQvSrg.png"
                />
                <figcaption class="imageCaption">objective C</figcaption>
              </figure>
              <p name="4399" id="4399" class="graf graf--p graf-after--figure">
                <strong class="markup--strong markup--p-strong"
                  >In Swift:</strong
                >
              </p>
              <figure
                name="bcef"
                id="bcef"
                class="graf graf--figure graf-after--p"
              >
                <img
                  class="graf-image"
                  data-image-id="1*cavRcEoyIE8XZV9fOj_J0w.png"
                  data-width="1136"
                  data-height="374"
                  src="https://cdn-images-1.medium.com/max/800/1*cavRcEoyIE8XZV9fOj_J0w.png"
                />
                <figcaption class="imageCaption">Swift</figcaption>
              </figure>
              <h3
                name="8234"
                id="8234"
                class="graf graf--h3 graf-after--figure"
              >
                Common uses
              </h3>
              <ul class="postList">
                <li name="7afb" id="7afb" class="graf graf--li graf-after--h3">
                  The
                  <a
                    href="https://en.wikipedia.org/wiki/Abstract_factory_pattern"
                    data-href="https://en.wikipedia.org/wiki/Abstract_factory_pattern"
                    class="markup--anchor markup--li-anchor"
                    title="Abstract factory pattern"
                    rel="noopener"
                    target="_blank"
                    >abstract factory</a
                  >,
                  <a
                    href="https://en.wikipedia.org/wiki/Builder_pattern"
                    data-href="https://en.wikipedia.org/wiki/Builder_pattern"
                    class="markup--anchor markup--li-anchor"
                    title="Builder pattern"
                    rel="noopener"
                    target="_blank"
                    >builder</a
                  >, and
                  <a
                    href="https://en.wikipedia.org/wiki/Prototype_pattern"
                    data-href="https://en.wikipedia.org/wiki/Prototype_pattern"
                    class="markup--anchor markup--li-anchor"
                    title="Prototype pattern"
                    rel="noopener"
                    target="_blank"
                    >prototype</a
                  >
                  patterns can use singletons in their implementation.
                </li>
                <li name="c3e7" id="c3e7" class="graf graf--li graf-after--li">
                  <a
                    href="https://en.wikipedia.org/wiki/Facade_pattern"
                    data-href="https://en.wikipedia.org/wiki/Facade_pattern"
                    class="markup--anchor markup--li-anchor"
                    title="Facade pattern"
                    rel="noopener"
                    target="_blank"
                    >Facade</a
                  >
                  objects are often singletons because only one facade object is
                  required.
                </li>
                <li name="b848" id="b848" class="graf graf--li graf-after--li">
                  <a
                    href="https://en.wikipedia.org/wiki/State_pattern"
                    data-href="https://en.wikipedia.org/wiki/State_pattern"
                    class="markup--anchor markup--li-anchor"
                    title="State pattern"
                    rel="noopener"
                    target="_blank"
                    >State objects</a
                  >
                  are often singletons.
                </li>
                <li name="373e" id="373e" class="graf graf--li graf-after--li">
                  Singletons are often preferred to global variables because:
                </li>
              </ul>
              <p name="2589" id="2589" class="graf graf--p graf-after--li">
                1. They do not pollute the global namespace (or, in languages
                with namespaces, their containing namespace) with unnecessary
                variables.<a
                  href="https://en.wikipedia.org/wiki/Singleton_pattern#cite_note-GoF-4"
                  data-href="https://en.wikipedia.org/wiki/Singleton_pattern#cite_note-GoF-4"
                  class="markup--anchor markup--p-anchor"
                  rel="noopener"
                  target="_blank"
                  >[4]</a
                >
              </p>
              <p name="c591" id="c591" class="graf graf--p graf-after--p">
                2. They permit
                <a
                  href="https://en.wikipedia.org/wiki/Lazy_evaluation"
                  data-href="https://en.wikipedia.org/wiki/Lazy_evaluation"
                  class="markup--anchor markup--p-anchor"
                  title="Lazy evaluation"
                  rel="noopener"
                  target="_blank"
                  >lazy</a
                >
                allocation and initialization, whereas global variables in many
                languages will always consume resources.
              </p>
              <h3 name="b67f" id="b67f" class="graf graf--h3 graf-after--p">
                Facade pattern
              </h3>
              <p name="6382" id="6382" class="graf graf--p graf-after--h3">
                A facade is an
                <a
                  href="https://en.wikipedia.org/wiki/Object_%28computer_science%29"
                  data-href="https://en.wikipedia.org/wiki/Object_(computer_science)"
                  class="markup--anchor markup--p-anchor"
                  title="Object (computer science)"
                  rel="noopener"
                  target="_blank"
                  >object</a
                >
                that serves as a front-facing interface masking more complex
                underlying or structural code.
              </p>
              <p name="1d84" id="1d84" class="graf graf--p graf-after--p">
                 One example of this in iOS is the
                <strong class="markup--strong markup--p-strong">UIImage</strong>
                class, This class is a façade which provides an interface for
                using and loading images that can be vector-based or
                bitmap-based, So no matter what type of image the application is
                using, it can use UIImage and have no knowledge of what’s
                happening underneath the class.
              </p>
              <figure
                name="a218"
                id="a218"
                class="graf graf--figure graf-after--p"
              >
                <img
                  class="graf-image"
                  data-image-id="0*68IH5P9pHedYY33m.jpg"
                  data-width="700"
                  data-height="240"
                  src="https://cdn-images-1.medium.com/max/800/0*68IH5P9pHedYY33m.jpg"
                />
                <figcaption class="imageCaption">
                  A sample UML class and sequence diagram for the Facade
                  design pattern.
                </figcaption>
              </figure>
              <p name="713e" id="713e" class="graf graf--p graf-after--figure">
                <strong class="markup--strong markup--p-strong"
                  >In Objective C:</strong
                >
              </p>
              <figure
                name="13e4"
                id="13e4"
                class="graf graf--figure graf-after--p"
              >
                <img
                  class="graf-image"
                  data-image-id="1*pSauCUkNjGgwdDXXZrlmAw.png"
                  data-width="770"
                  data-height="999"
                  src="https://cdn-images-1.medium.com/max/800/1*pSauCUkNjGgwdDXXZrlmAw.png"
                />
              </figure>
              <p name="b422" id="b422" class="graf graf--p graf-after--figure">
                <strong class="markup--strong markup--p-strong"
                  >In Swift:</strong
                >
              </p>
              <figure
                name="8eb2"
                id="8eb2"
                class="graf graf--figure graf-after--p"
              >
                <img
                  class="graf-image"
                  data-image-id="1*hNOTH6aFAcOvZlNCgUYmrg.png"
                  data-width="355"
                  data-height="362"
                  src="https://cdn-images-1.medium.com/max/800/1*hNOTH6aFAcOvZlNCgUYmrg.png"
                />
                <figcaption class="imageCaption">
                  Helper class for facade class
                </figcaption>
              </figure>
              <figure
                name="295a"
                id="295a"
                class="graf graf--figure graf-after--figure"
              >
                <img
                  class="graf-image"
                  data-image-id="1*Xu1qmZ5WnU6YBpunDYwiUw.png"
                  data-width="522"
                  data-height="916"
                  src="https://cdn-images-1.medium.com/max/800/1*Xu1qmZ5WnU6YBpunDYwiUw.png"
                />
                <figcaption class="imageCaption">
                  generateOrder: Unified interface to call from outside
                </figcaption>
              </figure>
              <h3
                name="6795"
                id="6795"
                class="graf graf--h3 graf-after--figure"
              >
                Command pattern
              </h3>
              <p name="7872" id="7872" class="graf graf--p graf-after--h3">
                <strong class="markup--strong markup--p-strong"
                  >Command pattern</strong
                >
                is a
                <a
                  href="https://en.wikipedia.org/wiki/Behavioral_pattern"
                  data-href="https://en.wikipedia.org/wiki/Behavioral_pattern"
                  class="markup--anchor markup--p-anchor"
                  title="Behavioral pattern"
                  rel="noopener"
                  target="_blank"
                  >behavioral</a
                >
                <a
                  href="https://en.wikipedia.org/wiki/Design_pattern_%28computer_science%29"
                  data-href="https://en.wikipedia.org/wiki/Design_pattern_(computer_science)"
                  class="markup--anchor markup--p-anchor"
                  title="Design pattern (computer science)"
                  rel="noopener"
                  target="_blank"
                  >design pattern</a
                >
                in which an object is used to
                <a
                  href="https://en.wikipedia.org/wiki/Information_hiding"
                  data-href="https://en.wikipedia.org/wiki/Information_hiding"
                  class="markup--anchor markup--p-anchor"
                  title="Information hiding"
                  rel="noopener"
                  target="_blank"
                  >encapsulate</a
                >
                all information needed to perform an action or trigger an event
                at a later time.
              </p>
              <p name="c372" id="c372" class="graf graf--p graf-after--p">
                <strong class="markup--strong markup--p-strong"
                  >What problems can the Command design pattern solve?</strong
                >
              </p>
              <ul class="postList">
                <li name="9ea9" id="9ea9" class="graf graf--li graf-after--p">
                  Coupling the invoker of a request to a particular request
                  should be avoided. That is, hard-wired requests should be
                  avoided.
                </li>
                <li name="d846" id="d846" class="graf graf--li graf-after--li">
                  It should be possible to configure an object (that invokes a
                  request) with a request.
                </li>
              </ul>
              <p name="e837" id="e837" class="graf graf--p graf-after--li">
                Implementing (hard-wiring) a request directly into a class is
                inflexible because it couples the class to a particular request
                at compile-time, which makes it impossible to specify a request
                at run-time.
              </p>
              <p name="b648" id="b648" class="graf graf--p graf-after--p">
                <strong class="markup--strong markup--p-strong"
                  >What solution does the Command design pattern
                  describe?</strong
                >
              </p>
              <ul class="postList">
                <li name="be8e" id="be8e" class="graf graf--li graf-after--p">
                  Define separate (command) objects that encapsulate a request.
                </li>
                <li name="7b24" id="7b24" class="graf graf--li graf-after--li">
                  A class delegates a request to a command object instead of
                  implementing a particular request directly.
                </li>
              </ul>
              <p name="a13c" id="a13c" class="graf graf--p graf-after--li">
                This enables one to configure a class with a command object that
                is used to perform a request. The class is no longer coupled to
                a particular request and has no knowledge (is independent) of
                how the request is carried out.
              </p>
              <p name="87bf" id="87bf" class="graf graf--p graf-after--p">
                <strong class="markup--strong markup--p-strong"
                  >In Swift: </strong
                >Let’s create a protocol for command and switching
                functionality. Assume there are two devices which support turn
                on/off functionality for ex: Air conditioner, Air purifier.
              </p>
              <figure
                name="1e4d"
                id="1e4d"
                class="graf graf--figure graf-after--p"
              >
                <img
                  class="graf-image"
                  data-image-id="1*yaATP_HCOFdSqfJL06e_0Q.png"
                  data-width="506"
                  data-height="658"
                  src="https://cdn-images-1.medium.com/max/800/1*yaATP_HCOFdSqfJL06e_0Q.png"
                />
              </figure>
              <p name="afe5" id="afe5" class="graf graf--p graf-after--figure">
                We have
                <em class="markup--em markup--p-em"
                  >An interface that defines actions that the receiver can
                  perform — </em
                ><strong class="markup--strong markup--p-strong"
                  ><em class="markup--em markup--p-em">Switchable</em></strong
                ><em class="markup--em markup--p-em">.</em>
              </p>
              <p name="cb05" id="cb05" class="graf graf--p graf-after--p">
                As there are two types of command available for each devices, we
                need to implement concrete commands for each devices such as
                below:
              </p>
              <pre
                name="b2aa"
                id="b2aa"
                class="graf graf--pre graf-after--p"
              ><em class="markup--em markup--pre-em">The Command for turning on/off the device - </em><strong class="markup--strong markup--pre-strong"><em class="markup--em markup--pre-em">ConcreteCommand</em></strong></pre>
              <figure
                name="831b"
                id="831b"
                class="graf graf--figure graf-after--pre"
              >
                <img
                  class="graf-image"
                  data-image-id="1*7p9ZSp8QXkidnL0lsdX3TA.png"
                  data-width="517"
                  data-height="881"
                  src="https://cdn-images-1.medium.com/max/800/1*7p9ZSp8QXkidnL0lsdX3TA.png"
                />
              </figure>
              <pre
                name="c1ad"
                id="c1ad"
                class="graf graf--pre graf-after--figure"
              ><em class="markup--em markup--pre-em">The test class or client</em></pre>
              <figure
                name="75b5"
                id="75b5"
                class="graf graf--figure graf-after--pre"
              >
                <img
                  class="graf-image"
                  data-image-id="1*onFGaeCPASy2ctqiHHwj_Q.png"
                  data-width="1092"
                  data-height="963"
                  src="https://cdn-images-1.medium.com/max/800/1*onFGaeCPASy2ctqiHHwj_Q.png"
                />
              </figure>
              <p name="eebe" id="eebe" class="graf graf--p graf-after--figure">
                By implementing command pattern , Controller class is unaware of
                device-types and its implementation but provide interface for
                handling device.
              </p>
              <!-- <h4 name="25d6" id="25d6" class="graf graf--h4 graf-after--p">
                Next:
                <a
                  href="https://medium.com/ios-expert-series-or-interview-series/the-decorator-mediator-and-bridge-patterns-a9e2e5f64e96"
                  data-href="https://medium.com/ios-expert-series-or-interview-series/the-decorator-mediator-and-bridge-patterns-a9e2e5f64e96"
                  class="markup--anchor markup--h4-anchor"
                  target="_blank"
                  >The Decorator, Mediator and Bridge Patterns</a
                >
              </h4> -->
              <h4 name="bf70" id="bf70" class="graf graf--h4 graf-after--h4">
                Hope you like it, Please feel free to comment or clap to
                encourage :)
              </h4>
              <p name="8efe" id="8efe" class="graf graf--p graf-after--h4">
                References:
              </p>
              <ol class="postList">
                <li name="e93f" id="e93f" class="graf graf--li graf-after--p">
                  <a
                    href="https://en.wikipedia.org/wiki/Singleton_pattern"
                    data-href="https://en.wikipedia.org/wiki/Singleton_pattern"
                    class="markup--anchor markup--li-anchor"
                    rel="nofollow noopener"
                    target="_blank"
                    >https://en.wikipedia.org/wiki/Singleton_pattern</a
                  >
                </li>
                <li name="5a9b" id="5a9b" class="graf graf--li graf-after--li">
                  <a
                    href="https://en.wikipedia.org/wiki/Facade_pattern"
                    data-href="https://en.wikipedia.org/wiki/Facade_pattern"
                    class="markup--anchor markup--li-anchor"
                    rel="nofollow noopener"
                    target="_blank"
                    >https://en.wikipedia.org/wiki/Facade_pattern</a
                  >
                </li>
                <li
                  name="2b56"
                  id="2b56"
                  class="graf graf--li graf-after--li graf--trailing"
                >
                  <a
                    href="https://en.wikipedia.org/wiki/Command_pattern"
                    data-href="https://en.wikipedia.org/wiki/Command_pattern"
                    class="markup--anchor markup--li-anchor"
                    rel="nofollow noopener"
                    target="_blank"
                    >https://en.wikipedia.org/wiki/Command_pattern</a
                  >
                </li>
              </ol>
            </div>
          </div>
        </section>
      </section>
      <!-- <footer>
        <p>
          By
          <a href="https://medium.com/@nishantnitb" class="p-author h-card"
            >Nishant Sharma</a
          >
          on
          <a href="https://medium.com/p/a6ad376f950d"
            ><time class="dt-published" datetime="2018-11-30T07:59:52.551Z"
              >November 30, 2018</time
            ></a
          >.
        </p>
        <p>
          <a
            href="https://medium.com/@nishantnitb/the-singleton-facade-and-command-patterns-a6ad376f950d"
            class="p-canonical"
            >Canonical link</a
          >
        </p>
        <p>
          Exported from <a href="https://medium.com">Medium</a> on February 11,
          2021.
        </p>
      </footer> -->
    </article>
  </body>
</html>
